<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="rss.xsl"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Bluepipe - 数据因自由流动而价值无限 Blog</title>
        <link>https://www.1stblue.com/fr/blog</link>
        <description>Bluepipe - 数据因自由流动而价值无限 Blog</description>
        <lastBuildDate>Fri, 21 Jun 2024 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>fr</language>
        <item>
            <title><![CDATA[构建跨网络数据管道最佳实践]]></title>
            <link>https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse</link>
            <guid>https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse</guid>
            <pubDate>Fri, 21 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[本文以云器 Lakehouse 为例，介绍利用bluepipe构建跨网络的数据复制最佳实践。]]></description>
            <content:encoded><![CDATA[<p>本文以<a href="https://yunqi.tech/" target="_blank" rel="noopener noreferrer">云器</a> <code>Lakehouse</code> 为例，介绍利用<code>bluepipe</code>构建跨网络的数据复制最佳实践。</p>
<p>如下图，客户业务系统部署在私有 IDC 中，而<code>Lakehouse</code>作为多租户湖仓服务部署在云上。数据需要从<code>Oracle</code>同步到<code>Lakehouse</code>
，我们推荐将<code>bluepipe</code>部署在客户 IDC 中，<strong>推</strong>数据到<code>Lakehouse</code>。</p>
<p><img decoding="async" loading="lazy" alt="Oracle to Lakehouse" src="https://www.1stblue.com/fr/assets/images/cross-network-pipe-eddbc84234790986facb8dda2658652e.png" width="2350" height="520" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="方案优势">方案优势<a href="https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse#%E6%96%B9%E6%A1%88%E4%BC%98%E5%8A%BF" class="hash-link" aria-label="Lien direct vers 方案优势" title="Lien direct vers 方案优势">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="开箱即用10-分钟完成配置">开箱即用，10 分钟完成配置<a href="https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse#%E5%BC%80%E7%AE%B1%E5%8D%B3%E7%94%A810-%E5%88%86%E9%92%9F%E5%AE%8C%E6%88%90%E9%85%8D%E7%BD%AE" class="hash-link" aria-label="Lien direct vers 开箱即用，10 分钟完成配置" title="Lien direct vers 开箱即用，10 分钟完成配置">​</a></h3>
<ul>
<li><code>bluepipe</code>几乎可以运行在任何<code>Linux</code>系统中，支持<code>x86</code>和<code>arm</code>芯片；常见的机架式服务器、笔记本电脑，甚至树莓派都可以用来部署；</li>
<li>极简的配置过程，默认参数即可达到最佳性能。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="全增量一体化无需运维干预">全、增量一体化，无需运维干预<a href="https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse#%E5%85%A8%E5%A2%9E%E9%87%8F%E4%B8%80%E4%BD%93%E5%8C%96%E6%97%A0%E9%9C%80%E8%BF%90%E7%BB%B4%E5%B9%B2%E9%A2%84" class="hash-link" aria-label="Lien direct vers 全、增量一体化，无需运维干预" title="Lien direct vers 全、增量一体化，无需运维干预">​</a></h3>
<ul>
<li>全量同步与增量同步深度协同，几乎无需日常运维操作；</li>
<li>高效的数据比对与热修复技术，始终保证数据一致；</li>
<li>高度鲁棒的<code>Schema Evolution</code>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="推数据而不是暴露端口">推数据，而不是暴露端口<a href="https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse#%E6%8E%A8%E6%95%B0%E6%8D%AE%E8%80%8C%E4%B8%8D%E6%98%AF%E6%9A%B4%E9%9C%B2%E7%AB%AF%E5%8F%A3" class="hash-link" aria-label="Lien direct vers 推数据，而不是暴露端口" title="Lien direct vers 推数据，而不是暴露端口">​</a></h3>
<ul>
<li><code>bluepipe</code>与您的数据库一起部署在您的内网，无需对外暴露端口；</li>
<li>弹性<code>buffer size</code>技术，在<code>吞吐(Throughput)</code>和<code>延迟(latency)</code>之间自动平衡。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="oracle链路的独特优势"><code>Oracle</code>链路的独特优势<a href="https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse#oracle%E9%93%BE%E8%B7%AF%E7%9A%84%E7%8B%AC%E7%89%B9%E4%BC%98%E5%8A%BF" class="hash-link" aria-label="Lien direct vers oracle链路的独特优势" title="Lien direct vers oracle链路的独特优势">​</a></h2>
<p><code>bluepipe</code>基于<code>Oracle LogMiner</code>实现对变更数据的捕捉。与此同时，在以下几个方面做了深度优化：</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="对ddl行为的深度兼容">对<code>DDL</code>行为的深度兼容<a href="https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse#%E5%AF%B9ddl%E8%A1%8C%E4%B8%BA%E7%9A%84%E6%B7%B1%E5%BA%A6%E5%85%BC%E5%AE%B9" class="hash-link" aria-label="Lien direct vers 对ddl�行为的深度兼容" title="Lien direct vers 对ddl行为的深度兼容">​</a></h3>
<p>在<code>LogMiner</code>默认策略下，当发生<code>DDL</code>行为后，相关表上后续的<code>DML</code>操作均无法正确解析，从而导致无法正确捕捉到变更。</p>
<p><code>bluepipe</code>维护了字典文件的自动构建策略，保证表结构变更后仍然能捕捉到正确的增量数据。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="大事务优化">大事务优化<a href="https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse#%E5%A4%A7%E4%BA%8B%E5%8A%A1%E4%BC%98%E5%8C%96" class="hash-link" aria-label="Lien direct vers 大事务优化" title="Lien direct vers 大事务优化">​</a></h3>
<p><code>Oracle Redo Log</code>中记录了完整的事务(<code>Transaction</code>)过程，而业务上通常仅希望拿到<code>commit</code>
之后的数据，因此，需要在传输过程中使用<code>buffer</code>来暂存尚未<code>commit</code>的变更记录。</p>
<p><code>bluepipe</code>基于独特的内存管理技术，单节点上也能轻松应对千万量级的大事务。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="全面支持名称超过-30-字符的表">全面支持名称超过 30 字符的表<a href="https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse#%E5%85%A8%E9%9D%A2%E6%94%AF%E6%8C%81%E5%90%8D%E7%A7%B0%E8%B6%85%E8%BF%87-30-%E5%AD%97%E7%AC%A6%E7%9A%84%E8%A1%A8" class="hash-link" aria-label="Lien direct vers 全面支持名称超过 30 字符的表" title="Lien direct vers 全面支持名称超过 30 字符的表">​</a></h3>
<p><code>Oracle 12.2</code>版本之后，对表名、字段名的最大长度支持到了 128 字节。
但因为种种原因，<code>LogMiner</code>对于无<code>OGG LICENSE</code>的实例，至今仍不支持对包含长名称的表的 DML
解析，详情参考<a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/sutil/oracle-logminer-utility.html" target="_blank" rel="noopener noreferrer">官方文档</a>。</p>
<p><code>bluepipe</code>基于高效的流批融合技术，全面支持了此种情况下的增量数据捕捉与投递。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="适配支持rac架构">适配支持<code>RAC</code>架构<a href="https://www.1stblue.com/fr/blog/bluepipe-with-lakehouse#%E9%80%82%E9%85%8D%E6%94%AF%E6%8C%81rac%E6%9E%B6%E6%9E%84" class="hash-link" aria-label="Lien direct vers 适配支持rac架构" title="Lien direct vers 适配支持rac架构">​</a></h3>]]></content:encoded>
            <category>lakehouse</category>
            <category>network</category>
            <category>Oracle</category>
        </item>
        <item>
            <title><![CDATA[Release Notes (v.0.11.0)]]></title>
            <link>https://www.1stblue.com/fr/blog/v0.11.0-release-notes</link>
            <guid>https://www.1stblue.com/fr/blog/v0.11.0-release-notes</guid>
            <pubDate>Mon, 03 Jun 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[主要变化]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="主要变化">主要变化<a href="https://www.1stblue.com/fr/blog/v0.11.0-release-notes#%E4%B8%BB%E8%A6%81%E5%8F%98%E5%8C%96" class="hash-link" aria-label="Lien direct vers 主要变化" title="Lien direct vers 主要变化">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="控制台">控制台<a href="https://www.1stblue.com/fr/blog/v0.11.0-release-notes#%E6%8E%A7%E5%88%B6%E5%8F%B0" class="hash-link" aria-label="Lien direct vers 控制台" title="Lien direct vers 控制台">​</a></h3>
<ul>
<li>作业配置下放到<code>表</code>层级；此变化可以帮助用户更精细地控制数据复制的范围；</li>
<li>基于结果表的<code>global search</code>能力。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="utility">Utility<a href="https://www.1stblue.com/fr/blog/v0.11.0-release-notes#utility" class="hash-link" aria-label="Lien direct vers Utility" title="Lien direct vers Utility">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="启动项">启动项<a href="https://www.1stblue.com/fr/blog/v0.11.0-release-notes#%E5%90%AF%E5%8A%A8%E9%A1%B9" class="hash-link" aria-label="Lien direct vers 启动项" title="Lien direct vers 启动项">​</a></h3>
<ul>
<li>默认采用<code>20%</code>物理内存模式，以适应<code>POC</code>阶段广泛存在的与其他服务混合部署需求。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="连接器">连接器<a href="https://www.1stblue.com/fr/blog/v0.11.0-release-notes#%E8%BF%9E%E6%8E%A5%E5%99%A8" class="hash-link" aria-label="Lien direct vers 连接器" title="Lien direct vers 连接器">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oracle-database改进"><code>Oracle Database</code>（改进）<a href="https://www.1stblue.com/fr/blog/v0.11.0-release-notes#oracle-database%E6%94%B9%E8%BF%9B" class="hash-link" aria-label="Lien direct vers oracle-database改进" title="Lien direct vers oracle-database改进">​</a></h3>
<ul>
<li><code>CDC</code>：全面支持超过30个字符的表和字段；</li>
<li>支持<code>ROWID</code>和<code>XID</code>附加列。</li>
</ul>]]></content:encoded>
            <category>Release Notes</category>
            <category>v0.11.0</category>
        </item>
        <item>
            <title><![CDATA[Release Notes (v.0.10.1)]]></title>
            <link>https://www.1stblue.com/fr/blog/v0.10.1-release-notes</link>
            <guid>https://www.1stblue.com/fr/blog/v0.10.1-release-notes</guid>
            <pubDate>Tue, 23 Apr 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[主要变化]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="主要变化">主要变化<a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#%E4%B8%BB%E8%A6%81%E5%8F%98%E5%8C%96" class="hash-link" aria-label="Lien direct vers 主要变化" title="Lien direct vers 主要变化">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="全新的连接设计">全新的<code>连接</code>设计<a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#%E5%85%A8%E6%96%B0%E7%9A%84%E8%BF%9E%E6%8E%A5%E8%AE%BE%E8%AE%A1" class="hash-link" aria-label="Lien direct vers 全新的连接设计" title="Lien direct vers 全新的连接设计">​</a></h3>
<ul>
<li><code>JDBC URL</code>的解析识别能力，提升<code>Java</code>开发者群体的使用体验；</li>
<li>数据库流控能力，避免大量作业同时运行造成数据库不稳定；</li>
<li>多地址能力，为后续高可用、读写分离功能做支撑。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="工具集utility">工具集<code>Utility</code><a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#%E5%B7%A5%E5%85%B7%E9%9B%86utility" class="hash-link" aria-label="Lien direct vers 工具集utility" title="Lien direct vers 工具集utility">​</a></h3>
<ul>
<li><code>docker</code>网络诊断；</li>
<li>作业配置备份功能。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="连接器">连接器<a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#%E8%BF%9E%E6%8E%A5%E5%99%A8" class="hash-link" aria-label="Lien direct vers 连接器" title="Lien direct vers 连接器">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="postgressql改进"><code>PostgresSQL</code>（改进）<a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#postgressql%E6%94%B9%E8%BF%9B" class="hash-link" aria-label="Lien direct vers postgressql改进" title="Lien direct vers postgressql改进">​</a></h3>
<ul>
<li><code>CDC</code>模式开启自动创建<code>publication</code>（需要<code>super</code>权限）；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clickzetta改进"><code>ClickZetta</code>（改进）<a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#clickzetta%E6%94%B9%E8%BF%9B" class="hash-link" aria-label="Lien direct vers clickzetta改进" title="Lien direct vers clickzetta改进">​</a></h3>
<ul>
<li><code>DDL</code>语句执行后强制刷新数据字典，显著降低作业失败率；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="oracle-database改进"><code>Oracle Database</code>（改进）<a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#oracle-database%E6%94%B9%E8%BF%9B" class="hash-link" aria-label="Lien direct vers oracle-database改进" title="Lien direct vers oracle-database改进">​</a></h3>
<ul>
<li><code>CDC</code>模式下一系列bug fix；</li>
<li><code>Schema Repair</code>: <code>integer</code>类型识别成<code>number</code>的 bug fix；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gbase-8s新增"><code>GBase 8s</code>（新增）<a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#gbase-8s%E6%96%B0%E5%A2%9E" class="hash-link" aria-label="Lien direct vers gbase-8s新增" title="Lien direct vers gbase-8s新增">​</a></h3>
<ul>
<li>写入能力；</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gaussdb新增"><code>GaussDB</code>（新增）<a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#gaussdb%E6%96%B0%E5%A2%9E" class="hash-link" aria-label="Lien direct vers gaussdb新增" title="Lien direct vers gaussdb新增">​</a></h3>
<ul>
<li>写入能力；</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="基础镜像">基础镜像<a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F" class="hash-link" aria-label="Lien direct vers 基础镜像" title="Lien direct vers 基础镜像">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime"><code>runtime</code><a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#runtime" class="hash-link" aria-label="Lien direct vers runtime" title="Lien direct vers runtime">​</a></h3>
<p><code>runtime</code>是<code>bluepipe</code>的<code>JDK</code>运行环境，此次更新：</p>
<ul>
<li>新增<code>krb5-user</code>和<code>xxd</code>软件包，供<code>Kerberos</code>调试使用。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gateway"><code>gateway</code><a href="https://www.1stblue.com/fr/blog/v0.10.1-release-notes#gateway" class="hash-link" aria-label="Lien direct vers gateway" title="Lien direct vers gateway">​</a></h3>
<p><code>gateway</code>是<code>bluepipe</code>的<code>openresty</code>运行环境，负责用户请求的接入代理、身份认证和权限检查等工作。
此次更新：</p>
<ul>
<li>独立出单独镜像；</li>
<li>增加基于 <code>password</code>和标准<code>OAuth</code>身份认证功能。</li>
</ul>]]></content:encoded>
            <category>Release Notes</category>
            <category>v0.10.1</category>
        </item>
        <item>
            <title><![CDATA[Tips for sqlplus]]></title>
            <link>https://www.1stblue.com/fr/blog/tips-for-sqlplus</link>
            <guid>https://www.1stblue.com/fr/blog/tips-for-sqlplus</guid>
            <pubDate>Thu, 04 Apr 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[https://github.com/hanslub42/rlwrap]]></description>
            <content:encoded><![CDATA[<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SET LINESIZE 100;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SET PAGESIZE 100;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SET timing on;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set autotrace on;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><a href="https://github.com/hanslub42/rlwrap" target="_blank" rel="noopener noreferrer">https://github.com/hanslub42/rlwrap</a></p>
<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">set hist on;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">history 1 run;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hist 2 edit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content:encoded>
            <category>Sqlplus</category>
            <category>工具</category>
        </item>
        <item>
            <title><![CDATA[Release Notes (v0.9.5)]]></title>
            <link>https://www.1stblue.com/fr/blog/v095-release-notes</link>
            <guid>https://www.1stblue.com/fr/blog/v095-release-notes</guid>
            <pubDate>Fri, 19 Jan 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[主要变化]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="主要变化">主要变化<a href="https://www.1stblue.com/fr/blog/v095-release-notes#%E4%B8%BB%E8%A6%81%E5%8F%98%E5%8C%96" class="hash-link" aria-label="Lien direct vers 主要变化" title="Lien direct vers 主要变化">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="支持通过定时器调度作业">支持通过定时器调度作业<a href="https://www.1stblue.com/fr/blog/v095-release-notes#%E6%94%AF%E6%8C%81%E9%80%9A%E8%BF%87%E5%AE%9A%E6%97%B6%E5%99%A8%E8%B0%83%E5%BA%A6%E4%BD%9C%E4%B8%9A" class="hash-link" aria-label="Lien direct vers 支持通过定时器调度作业" title="Lien direct vers 支持通过定时器调度作业">​</a></h3>
<ul>
<li>允许配置定时策略，以实现数据的自动复制；</li>
<li>您可以在作业右上角查看定时任务的运行情况，支持操作开启、暂停定时任务。</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_BuS1"><p>定时器、外部 API 或者人工点击都可能触发作业运行，它们之间可能存在冲突，请您在操作时谨慎评估。</p></div></div>
<p><img decoding="async" loading="lazy" alt="调度方式" src="https://www.1stblue.com/fr/assets/images/auto-method-782fd9406560ff917faf16f0ac8f9e84.png" width="778" height="530" class="img_ev3q">
<img decoding="async" loading="lazy" alt="按天调度" src="https://www.1stblue.com/fr/assets/images/auto-method-day-7e31dbd25ee85aebe5c4759a6c9eb44a.png" width="776" height="360" class="img_ev3q">
<img decoding="async" loading="lazy" alt="按小时调度" src="https://www.1stblue.com/fr/assets/images/auto-method-hour-0fb3ba6beb577f17ca48559e9eef70f7.png" width="694" height="350" class="img_ev3q">
<img decoding="async" loading="lazy" alt="调度状态" src="https://www.1stblue.com/fr/assets/images/automatic-header-8c25b35dd05cd39f13550bc3177a00f5.png" width="3426" height="356" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="支持按schema筛选复制范围">支持按<code>Schema</code>筛选复制范围<a href="https://www.1stblue.com/fr/blog/v095-release-notes#%E6%94%AF%E6%8C%81%E6%8C%89schema%E7%AD%9B%E9%80%89%E5%A4%8D%E5%88%B6%E8%8C%83%E5%9B%B4" class="hash-link" aria-label="Lien direct vers 支持按schema筛选复制范围" title="Lien direct vers 支持按schema筛选复制范围">​</a></h3>
<ul>
<li>此版本将复制范围下放到数据库的<code>Schema</code>层级，为用户提供更灵活的选择。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="作业生效范围" src="https://www.1stblue.com/fr/assets/images/auto-all-table-1c7813cf64943ef98a1e25bb7b7a8374.png" width="1072" height="728" class="img_ev3q">
<img decoding="async" loading="lazy" alt="全选 SCHEMA" src="https://www.1stblue.com/fr/assets/images/auto-all-table-schema-35169d2e9cfc0ac0bc3d42830b6d677c.png" width="1084" height="612" class="img_ev3q">
<img decoding="async" loading="lazy" alt="多选 SCHEMA" src="https://www.1stblue.com/fr/assets/images/job-status-list-d9ade5753e583b4c41e36186b3642fe1.png" width="3434" height="842" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="调度策略优化">调度策略优化<a href="https://www.1stblue.com/fr/blog/v095-release-notes#%E8%B0%83%E5%BA%A6%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96" class="hash-link" aria-label="Lien direct vers 调度策略优化" title="Lien direct vers 调度策略优化">​</a></h3>
<ul>
<li>基于深度优先的作业调度方式，避免大量作业同时提交时排队时间过长。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="切分策略优化">切分策略优化<a href="https://www.1stblue.com/fr/blog/v095-release-notes#%E5%88%87%E5%88%86%E7%AD%96%E7%95%A5%E4%BC%98%E5%8C%96" class="hash-link" aria-label="Lien direct vers 切分策略优化" title="Lien direct vers 切分策略优化">​</a></h3>
<ul>
<li>新增基于非 Number 列的切分支持，以提升复制过程中的并行度；</li>
<li>优化切分列选择策略，规避数据倾斜。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="连接器">连接器<a href="https://www.1stblue.com/fr/blog/v095-release-notes#%E8%BF%9E%E6%8E%A5%E5%99%A8" class="hash-link" aria-label="Lien direct vers 连接器" title="Lien direct vers 连接器">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新增sql-server">新增<code>SQL Server</code><a href="https://www.1stblue.com/fr/blog/v095-release-notes#%E6%96%B0%E5%A2%9Esql-server" class="hash-link" aria-label="Lien direct vers 新增sql-server" title="Lien direct vers 新增sql-server">​</a></h3>
<ul>
<li>支持通过批量方式读取数据；</li>
<li>暂未支持基于日志订阅的 CDC 能力；</li>
<li>暂未支持数据写入能力。</li>
</ul>
<p><img decoding="async" loading="lazy" alt="新增SQLServer连接器" src="https://www.1stblue.com/fr/assets/images/connector-sqlserver-cc1a8e8653d6f19df98c8042f09f81a6.png" width="3840" height="1914" class="img_ev3q"></p>]]></content:encoded>
            <category>Release Notes</category>
            <category>v0.9.5</category>
        </item>
        <item>
            <title><![CDATA[Release Notes (v2023)]]></title>
            <link>https://www.1stblue.com/fr/blog/v2023-release-notes</link>
            <guid>https://www.1stblue.com/fr/blog/v2023-release-notes</guid>
            <pubDate>Fri, 29 Dec 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[2024年来临之际，我很荣幸地代表团队向大家宣布bluepipe2023年度版本的诞生。]]></description>
            <content:encoded><![CDATA[<p>2024年来临之际，我很荣幸地代表团队向大家宣布<code>bluepipe</code>2023年度版本的诞生。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="背景">背景<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E8%83%8C%E6%99%AF" class="hash-link" aria-label="Lien direct vers 背景" title="Lien direct vers 背景">​</a></h2>
<p>我们花费了几个月的时间构建出<code>bluepipe</code>第一个原型版本的时候，团队的成就感斐然。
即便只有一个单机版的程序，在几个早期客户现场验证的时候，也不乏溢美之词，比如<strong>性能炸裂</strong>、<strong>靠谱</strong>、<strong>很智能</strong>等。</p>
<p>但更值得我们关注的，却是客户用起来有点别扭、却没说出来甚至意识不到这是问题的地方。
做产品调研最高效的方法，就是站在背后看用户怎么使用你的产品。</p>
<p>我们通过远程演示、或者辅助用户跑通第一个作业（Aha moment），惭愧地看到，将后台程序的接口，包装成一个个表单直接展现给用户，
是多么地懒惰和缺乏想象力。比如：</p>
<ul>
<li><strong>以任务为操作客体</strong>，用户需要创建一个个任务来完成他的业务目标。这是一种<strong>面向过程</strong>的设计，用户需要非常理解底层的技术细节，才可能在实际使用中得心应手。</li>
<li>操作层面，<strong>缺少场景封装</strong>。比如用户需要快速完成某张表从来源库重新同步（数据修复），那么他需要先停止CDC任务，再启动一个跑批的任务，然后再将CDC任务拉起来。步骤繁多且没有辅助校验，极易出错引发业务故障。</li>
</ul>
<p>出于<strong>以用户为中心，将麻烦留给自己</strong>的团队价值观，我们推出了此次版本更新。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="主要变化">主要变化<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E4%B8%BB%E8%A6%81%E5%8F%98%E5%8C%96" class="hash-link" aria-label="Lien direct vers 主要变化" title="Lien direct vers 主要变化">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="全新交互">全新交互<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E5%85%A8%E6%96%B0%E4%BA%A4%E4%BA%92" class="hash-link" aria-label="Lien direct vers 全新交互" title="Lien direct vers 全新交互">​</a></h3>
<ul>
<li>面向<strong>数据交付</strong>的全新交互，您只需要关注数据表的复制状态，而不用考虑怎么配置任务。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="流批融合">流批融合<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E6%B5%81%E6%89%B9%E8%9E%8D%E5%90%88" class="hash-link" aria-label="Lien direct vers 流批融合" title="Lien direct vers 流批融合">​</a></h3>
<ul>
<li>优先使用CDC方式来持续地复制增量数据（需要来源库支持CDC能力）；</li>
<li>对同一张数据表而言，基于SQL查询的<code>批量复制</code>与基于CDC技术的<code>流式复制</code>无缝衔接；</li>
<li>一键封装<code>重刷数据</code>的功能；确保<strong>应急响应</strong>场景下，无需人工思考流批冲突的问题。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="游标列">游标列<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E6%B8%B8%E6%A0%87%E5%88%97" class="hash-link" aria-label="Lien direct vers 游标列" title="Lien direct vers 游标列">​</a></h3>
<ul>
<li>支持为每张表单独设置<strong>时间类型</strong>的<code>游标列</code>以实现批量复制模式下的<strong>增量同步</strong>能力。</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>限制</div><div class="admonitionContent_BuS1"><p><code>游标列</code>本质上是一个业务字段，依赖您的应用程序正确地维护它。
因此，如果某行数据被物理删除（DELETE），或者<code>游标列</code>没有被正确地更新，都有可能导致基于它的数据同步不能正确工作。</p><p>此风险<code>bluepipe</code>无法识别，您需要谨慎评估使用此功能。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="筛选与重命名">筛选与重命名<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E7%AD%9B%E9%80%89%E4%B8%8E%E9%87%8D%E5%91%BD%E5%90%8D" class="hash-link" aria-label="Lien direct vers 筛选与重命名" title="Lien direct vers 筛选与重命名">​</a></h3>
<ul>
<li>数据复制到目标库时，支持<code>表</code>和<code>列（字段）</code>裁剪；</li>
<li>数据复制到目标库时，支持<code>表</code>和<code>列（字段）</code>重命名。</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>表或者列重新进行筛选或者重命名不会影响正在运行或者运行结束的任务，新的配置会在任务下次启动时生效。
您有可能您需要做完相关修改后人工进行数据重刷。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="连接器">连接器<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E8%BF%9E%E6%8E%A5%E5%99%A8" class="hash-link" aria-label="Lien direct vers 连接器" title="Lien direct vers 连接器">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新增clickzetta">新增<code>ClickZetta</code><a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E6%96%B0%E5%A2%9Eclickzetta" class="hash-link" aria-label="Lien direct vers 新增clickzetta" title="Lien direct vers 新增clickzetta">​</a></h3>
<p><code>ClickZetta</code>是<a href="https://www.yunqi.tech/" target="_blank" rel="noopener noreferrer">云器科技</a>研发的下一代Single-Engine为核心理念的湖仓平台。</p>
<ul>
<li>支持自动建表（Create Table）和修改表结构（Alter Table）；</li>
<li>支持数据实时写入，支持基于<code>Primary Key</code>进行数据更新；</li>
<li>暂未支持数据读取（含BATCH和CDC）。</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>限制</div><div class="admonitionContent_BuS1"><p>受<code>ClickZetta</code>当前版本限制，对于含 <code>Primary Key</code>的表，目前仅支持单线程写入。<code>bluepipe</code>自动进行了适配，无<code>Primary Key</code>
的表仍然可以多线程大吞吐写入。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新增intersystems">新增<code>InterSystems</code><a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E6%96%B0%E5%A2%9Eintersystems" class="hash-link" aria-label="Lien direct vers 新增intersystems" title="Lien direct vers 新增intersystems">​</a></h3>
<p><code>InterSystems</code>是一家提供数据管理和医疗信息系统的公司，为医疗健康、金融服务、供应链和物流等行业提供数据解决方案。
<code>InterSystems</code>在2022 Gartner<!-- -->©️<!-- --> 云数据库管理系统魔力象限<!-- -->™️<!-- -->中被评为“远见者（Visionary）”。</p>
<ul>
<li>兼容<a href="https://www.intersystems.com/data-platform/" target="_blank" rel="noopener noreferrer"><code>InterSystems IRIS</code></a> 和<a href="https://www.intersystems.com/cache/" target="_blank" rel="noopener noreferrer"><code>InterSystems Caché</code></a>两套引擎；</li>
<li>支持通过批量方式读取数据；</li>
<li>暂未支持基于日志订阅的 CDC 能力；</li>
<li>暂未支持数据写入能力。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="优化apache-hive">优化<code>Apache Hive</code><a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E4%BC%98%E5%8C%96apache-hive" class="hash-link" aria-label="Lien direct vers 优化apache-hive" title="Lien direct vers 优化apache-hive">​</a></h3>
<ul>
<li>接入时支持<a href="https://cwiki.apache.org/confluence/display/hive/hiveserver2+clients#HiveServer2Clients-ConnectionURLWhenZooKeeperServiceDiscoveryIsEnabled" target="_blank" rel="noopener noreferrer"><code>Zookeeper Service Discovery</code></a>配置；</li>
<li>CDC数据以<code>APPEND</code>模式写入临时表，定期<code>MERGE</code>到主表。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="遗留问题">遗留问题<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E9%81%97%E7%95%99%E9%97%AE%E9%A2%98" class="hash-link" aria-label="Lien direct vers 遗留问题" title="Lien direct vers 遗留问题">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="错误率控制">错误率控制<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#%E9%94%99%E8%AF%AF%E7%8E%87%E6%8E%A7%E5%88%B6" class="hash-link" aria-label="Lien direct vers 错误率控制" title="Lien direct vers 错误率控制">​</a></h3>
<p>复制过程中的<code>错误率控制</code>尚未支持。
因此，在当前版本中，如果某行数据因为字段类型不兼容、或者字符超长等原因而无法写入，则会导致整个任务失败。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cdc模式下表之间的耦合">CDC模式下表之间的耦合<a href="https://www.1stblue.com/fr/blog/v2023-release-notes#cdc%E6%A8%A1%E5%BC%8F%E4%B8%8B%E8%A1%A8%E4%B9%8B%E9%97%B4%E7%9A%84%E8%80%A6%E5%90%88" class="hash-link" aria-label="Lien direct vers CDC模式下表之间的耦合" title="Lien direct vers CDC模式下表之间的耦合">​</a></h3>
<p>由于CDC技术的特殊性，出于数据库资源考虑，我们限制了一个作业最多启用一条CDC流来复制数据，这必然导致不同表之间互相耦合。
即某张表无法写入，或者写入性能变慢，会导致同一个作业内其他表的复制也被阻塞。</p>
<p>考虑解决此问题而带来的技术复杂度急剧上升，短期内我们不会着手去解决。您可基于业务优先级，将一个作业拆分成多个作业来规避这一问题。</p>]]></content:encoded>
            <category>Release Notes</category>
            <category>v2023</category>
        </item>
        <item>
            <title><![CDATA[Oracle大表的并行读取]]></title>
            <link>https://www.1stblue.com/fr/blog/oracle-split-read</link>
            <guid>https://www.1stblue.com/fr/blog/oracle-split-read</guid>
            <pubDate>Wed, 11 Oct 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[测试环境]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="测试环境">测试环境<a href="https://www.1stblue.com/fr/blog/oracle-split-read#%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83" class="hash-link" aria-label="Lien direct vers 测试环境" title="Lien direct vers 测试环境">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="硬件">硬件<a href="https://www.1stblue.com/fr/blog/oracle-split-read#%E7%A1%AC%E4%BB%B6" class="hash-link" aria-label="Lien direct vers 硬件" title="Lien direct vers 硬件">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="数据">数据<a href="https://www.1stblue.com/fr/blog/oracle-split-read#%E6%95%B0%E6%8D%AE" class="hash-link" aria-label="Lien direct vers 数据" title="Lien direct vers 数据">​</a></h3>
<p><strong>表结构</strong></p>
<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">create-table.sql</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE TABLE TPCH.FP_RAW_DATA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CP_IDX   number(20, 0)    not null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WAFERID  varchar(10)      not null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BIN      number(10, 0)    not null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SITE     DOUBLE PRECISION,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    X        DOUBLE PRECISION not null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Y        DOUBLE PRECISION not null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BIN_1    DOUBLE PRECISION not null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BIN_2    DOUBLE PRECISION,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BIN_3    DOUBLE PRECISION,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -- BIN_4 ~ BIN_39 DOUBLE PRECISION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BIN_40   DOUBLE PRECISION,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BIN_CODE VARCHAR(10)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE UNIQUE INDEX TPCH.FP_RAW_IDX2 ON TPCH.FP_RAW_DATA (CP_IDX, WAFERID, X, Y);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>准备20,000万（2亿）行数据</strong></p>
<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT TABLE_NAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     , NUM_ROWS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     , AVG_ROW_LEN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     , ROUND(AVG_ROW_LEN * NUM_ROWS / 1024 / 1024 / 1024, 2) AS GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM ALL_TABLES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">where OWNER = 'TPCH'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AND TABLE_NAME = 'FP_RAW_DATA_MARS3'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">TABLE_NAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--------------------------------------------------------------------------------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  NUM_ROWS AVG_ROW_LEN	       GB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---------- ----------- ----------</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FP_RAW_DATA_MARS3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 200000000	    99	    18.44</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>分16个分片进行，平均每个分片处理12,500,000（1250万）行数据</p>
<p>脚注<sup><a href="https://www.1stblue.com/fr/blog/oracle-split-read#user-content-fn-1-784864" id="user-content-fnref-1-784864" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="测试验证">测试验证<a href="https://www.1stblue.com/fr/blog/oracle-split-read#%E6%B5%8B%E8%AF%95%E9%AA%8C%E8%AF%81" class="hash-link" aria-label="Lien direct vers 测试验证" title="Lien direct vers 测试验证">​</a></h2>
<table><thead><tr><th style="text-align:center">编号</th><th style="text-align:left">切分字段</th><th style="text-align:left">切分方法</th></tr></thead><tbody><tr><td style="text-align:center">A</td><td style="text-align:left">CP_IDX</td><td style="text-align:left">Range: (Minimum, Maximum)</td></tr><tr><td style="text-align:center">B</td><td style="text-align:left">ROWID</td><td style="text-align:left">Range: (Minimum, Maximum)</td></tr><tr><td style="text-align:center">C</td><td style="text-align:left">ROWID</td><td style="text-align:left">Range: Scan</td></tr><tr><td style="text-align:center">D</td><td style="text-align:left">ROWID</td><td style="text-align:left">Range: DBMS_PARALLEL_EXECUTE.create_chunks_by_rowid</td></tr><tr><td style="text-align:center">E</td><td style="text-align:left">ROWID</td><td style="text-align:left">Hash</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-基于主键索引列按照min-max区间切分">A: 基于主键/索引列，按照(min, max)区间切分<a href="https://www.1stblue.com/fr/blog/oracle-split-read#a-%E5%9F%BA%E4%BA%8E%E4%B8%BB%E9%94%AE%E7%B4%A2%E5%BC%95%E5%88%97%E6%8C%89%E7%85%A7min-max%E5%8C%BA%E9%97%B4%E5%88%87%E5%88%86" class="hash-link" aria-label="Lien direct vers A: 基于主键/索引列，按照(min, max)区间切分" title="Lien direct vers A: 基于主键/索引列，按照(min, max)区间切分">​</a></h3>
<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT /*+parallel(4)*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    COUNT(1)       AS total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     , MIN(CP_IDX) AS lower</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     , MAX(CP_IDX) AS upper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM TPCH.FP_RAW_DATA;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="b-基于rowid按照min-max区间切分">B: 基于ROWID，按照(min, max)区间切分<a href="https://www.1stblue.com/fr/blog/oracle-split-read#b-%E5%9F%BA%E4%BA%8Erowid%E6%8C%89%E7%85%A7min-max%E5%8C%BA%E9%97%B4%E5%88%87%E5%88%86" class="hash-link" aria-label="Lien direct vers B: 基于ROWID，按照(min, max)区间切分" title="Lien direct vers B: 基于ROWID，按照(min, max)区间切分">​</a></h3>
<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT /*+parallel(4)*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    COUNT(1)      AS total</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     , MIN(ROWID) AS lower</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     , MAX(ROWID) AS upper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM TPCH.FP_RAW_DATA;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="c-基于rowidscan-split-by-rows">C: 基于ROWID，Scan, split by rows<a href="https://www.1stblue.com/fr/blog/oracle-split-read#c-%E5%9F%BA%E4%BA%8Erowidscan-split-by-rows" class="hash-link" aria-label="Lien direct vers C: 基于ROWID，Scan, split by rows" title="Lien direct vers C: 基于ROWID，Scan, split by rows">​</a></h3>
<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT /*+parallel(4)*/ id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM (SELECT id, ROWNUM AS rn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      FROM (SELECT ROWID AS id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            FROM TPCH.FP_RAW_DATA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ORDER BY ROWID) t) x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WHERE MOD(rn, 12500000) = 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d-dbms_parallel_execute包create_chunks_by_rowid">D: <code>DBMS_PARALLEL_EXECUTE</code>包<code>create_chunks_by_rowid</code><a href="https://www.1stblue.com/fr/blog/oracle-split-read#d-dbms_parallel_execute%E5%8C%85create_chunks_by_rowid" class="hash-link" aria-label="Lien direct vers d-dbms_parallel_execute包create_chunks_by_rowid" title="Lien direct vers d-dbms_parallel_execute包create_chunks_by_rowid">​</a></h3>
<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">BEGIN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DBMS_PARALLEL_EXECUTE.create_task(task_name =&gt; 'tpch_test');</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DBMS_PARALLEL_EXECUTE.create_chunks_by_rowid(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            task_name =&gt; 'tpch_test',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            table_owner =&gt; 'TPCH',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            table_name =&gt; 'FP_RAW_DATA',</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            by_row =&gt; TRUE,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            chunk_size =&gt; 12500000);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">END;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SELECT chunk_id, status, start_rowid, end_rowid</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM user_parallel_execute_chunks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WHERE task_name = 'tpch_test'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ORDER BY chunk_id;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="e-基于rowidhash切分">E: 基于ROWID，Hash切分<a href="https://www.1stblue.com/fr/blog/oracle-split-read#e-%E5%9F%BA%E4%BA%8Erowidhash%E5%88%87%E5%88%86" class="hash-link" aria-label="Lien direct vers E: 基于ROWID，Hash切分" title="Lien direct vers E: 基于ROWID，Hash切分">​</a></h3>
<div class="language-oraclesqlplus codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">hello.sql</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-oraclesqlplus codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM TPCH.FP_RAW_DATA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WHERE MOD(DBMS_ROWID.ROWID_ROW_NUMBER(TPCH.FP_RAW_DATA.ROWID), 16) = 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copier le code" title="Copier" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="结论">结论<a href="https://www.1stblue.com/fr/blog/oracle-split-read#%E7%BB%93%E8%AE%BA" class="hash-link" aria-label="Lien direct vers 结论" title="Lien direct vers 结论">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>astuce</div><div class="admonitionContent_BuS1"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum
tempor eros aliquam consequat. Lorem ipsum dolor sit amet</p></div></div>
<ol>
<li>在我们的场景中，允许<code>Partitioned Table</code>?</li>
<li>优先使用 <code>DBMS_PARALLEL_EXECUTE</code>包中的<code>create_chunks_by_rowid</code>方法，获取基于<code>ROWID</code>切分；</li>
<li>如果因为版本兼容性或者权限等原因导致1失败，则尝试采用；</li>
<li>啦啦啦</li>
</ol>
<!-- -->
<section data-footnotes="true" class="footnotes"><h2 class="anchor anchorWithStickyNavbar_LWe7 sr-only" id="footnote-label">Footnotes<a href="https://www.1stblue.com/fr/blog/oracle-split-read#footnote-label" class="hash-link" aria-label="Lien direct vers Footnotes" title="Lien direct vers Footnotes">​</a></h2>
<ol>
<li id="user-content-fn-1-784864">
<p><a href="https://docs.oracle.com/en/database/oracle/oracle-database/19/arpls/DBMS_PARALLEL_EXECUTE.html" target="_blank" rel="noopener noreferrer">Oracle DBMS_PARALLEL_EXECUTE</a> <a href="https://www.1stblue.com/fr/blog/oracle-split-read#user-content-fnref-1-784864" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section>]]></content:encoded>
            <category>Oracle</category>
            <category>ROWID</category>
            <category>并行</category>
        </item>
    </channel>
</rss>